# Boozmandu Environment Variables Template
# Copy this file to .env for production or use .env.local for local development

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PRODUCTION (Supabase with Connection Pooling):
# Get this from Supabase Dashboard → Settings → Database → Connection Pooling → Session Mode
# IMPORTANT: Must include ?pgbouncer=true&connection_limit=1 for Vercel deployment
# Example:
DATABASE_URL="postgresql://postgres.[PROJECT-REF]:[PASSWORD]@aws-1-ap-south-1.pooler.supabase.com:5432/postgres?pgbouncer=true&connection_limit=1"

# LOCAL DEVELOPMENT (PostgreSQL on your machine):
# Uncomment this line for local development:
# DATABASE_URL="postgresql://bishnu:bishnu12@localhost:5432/boozmandu?schema=public"

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Environment (use "development" for local, "production" for Vercel)
NODE_ENV="production"

# =============================================================================
# SECURITY
# =============================================================================

# JWT Secret Key for signing authentication tokens
# IMPORTANT: Keep this secret and consistent across all environments
# Generate a secure secret with: openssl rand -base64 32
JWT_SECRET="9K7x2nP4mQ8wE3tY6uR5zL1aB0cD9fG2hJ4kM7pS8vW3xZ6"

# =============================================================================
# ADMIN CREDENTIALS
# =============================================================================

# Admin email for initial admin account
ADMIN_EMAIL="admin@boozmandu.com"

# Admin password hash (bcrypt with 10 salt rounds)
# Default password: Boozmandu@Admin2024 (CHANGE AFTER FIRST LOGIN!)
# Generate hash with: node -e "const bcrypt = require('bcrypt'); bcrypt.hash('YourPassword', 10).then(console.log)"
ADMIN_PASSWORD_HASH="$2b$10$YourHashedPasswordWillBeHere"

# =============================================================================
# SETUP INSTRUCTIONS
# =============================================================================

# LOCAL DEVELOPMENT:
# 1. Copy this file: cp .env.example .env.local
# 2. Update DATABASE_URL to use local PostgreSQL
# 3. Create database: createdb boozmandu
# 4. Run migrations: npm run db:push
# 5. Seed database: npm run prisma:seed
# 6. Start dev server: npm run dev

# PRODUCTION (VERCEL):
# 1. Set environment variables in Vercel Dashboard:
#    - Go to Project Settings → Environment Variables
#    - Add: DATABASE_URL, JWT_SECRET, NODE_ENV, ADMIN_EMAIL
# 2. Connect to Supabase database
# 3. Run migrations: DATABASE_URL="your-supabase-url" npm run db:push
# 4. Seed database: DATABASE_URL="your-supabase-url" npm run prisma:seed
# 5. Deploy: git push origin main

# =============================================================================
# NOTES
# =============================================================================

# - Never commit .env or .env.local to version control
# - Keep .env.example in version control as a template
# - Use Vercel Dashboard for production environment variables
# - Rotate JWT_SECRET if exposed or compromised
# - Change admin password immediately after first login
# - For Supabase: Always use Session Mode pooler, NOT Transaction Mode
